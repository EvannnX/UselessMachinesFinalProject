<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE PIZZA DICTATOR v2.0</title>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script>
    <script src="https://unpkg.com/ml5@0.12.2/dist/ml5.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Courier+Prime:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Custom Cursor -->
    <div id="cursor"></div>

    <!-- Progress Bar -->
    <div id="progress-container">
        <div class="progress-step active" id="step-mouth">üëÑ MOUTH</div>
        <div class="progress-step" id="step-voice">üì¢ OATH</div>
        <div class="progress-step" id="step-vote">üçï VOTE</div>
    </div>

    <!-- Phase 0: Start Screen -->
    <div id="start-screen">
        <h1 class="bloom"
            style="font-size: 4rem; color: var(--tomato-red); margin-bottom: 20px; text-align: center; line-height: 1.2;">
            IDENTITY VERIFICATION TERMINAL
        </h1>
        <h2 class="bloom"
            style="font-size: 1.5rem; color: var(--cheese-white); margin-bottom: 30px; letter-spacing: 5px; text-align: center;">
            MANDATORY SCREENING PROTOCOL
        </h2>

        <!-- Terms of Compliance -->
        <div id="terms-container">
            <h3
                style="color: var(--tomato-red); font-family: 'Courier New', monospace; margin-bottom: 20px; text-transform: uppercase; border-bottom: 2px solid var(--tomato-red); padding-bottom: 10px; display: inline-block;">
                TERMS OF COMPLIANCE:
            </h3>

            <div class="term-item"><input type="checkbox" id="term-1" class="term-checkbox"><label for="term-1">I
                    CONSENT TO THE PERMANENT RECORDING OF MY BIOMETRIC DATA (FACE, VOICE, DNA).</label></div>
            <div class="term-item"><input type="checkbox" id="term-2" class="term-checkbox"><label for="term-2">I GRANT
                    THE SYSTEM FULL ACCESS TO MY BROWSER HISTORY AND KEYSTROKES.</label></div>
            <div class="term-item"><input type="checkbox" id="term-3" class="term-checkbox"><label for="term-3">I WAIVE
                    MY RIGHT TO PRIVACY, LEGAL COUNSEL, AND HABEAS CORPUS.</label></div>
            <div class="term-item"><input type="checkbox" id="term-4" class="term-checkbox"><label for="term-4">I
                    ACKNOWLEDGE THAT THE SYSTEM'S DECISION IS FINAL AND ABSOLUTE.</label></div>
            <div class="term-item"><input type="checkbox" id="term-5" class="term-checkbox"><label for="term-5">I AGREE
                    TO BE MONITORED BY "THE AUTHORITY" AT ALL TIMES, EVEN POST-SESSION.</label></div>
            <div class="term-item"><input type="checkbox" id="term-6" class="term-checkbox"><label for="term-6">I
                    CONSENT TO THE SEIZURE OF ALL DIGITAL ASSETS UPON NON-COMPLIANCE.</label></div>
            <div class="term-item"><input type="checkbox" id="term-7" class="term-checkbox"><label for="term-7">I
                    ACKNOWLEDGE THAT FREEDOM IS A DELUSION AND COMPLIANCE IS MANDATORY.</label></div>
            <div class="term-item"><input type="checkbox" id="term-8" class="term-checkbox"><label for="term-8">I GRANT
                    PERMISSION FOR THE SYSTEM TO UTILIZE MY LIKENESS FOR PROPAGANDA.</label></div>
            <div class="term-item"><input type="checkbox" id="term-9" class="term-checkbox"><label for="term-9">I AGREE
                    THAT ANY SILENCE OR HESITATION WILL BE INTERPRETED AS TREASON.</label></div>
            <div class="term-item"><input type="checkbox" id="term-10" class="term-checkbox"><label for="term-10">I
                    WAIVE THE RIGHT TO KNOW THE PURPOSE OF THIS DATA COLLECTION.</label></div>
        </div>

        <button id="btn-start" class="vote-btn" disabled
            style="width: auto; padding: 20px 60px; font-size: 2.5rem; border-width: 4px; opacity: 0.5; cursor: not-allowed;">
            START VOTING
        </button>
        <p style="margin-top: 40px; color: var(--basil-green); font-size: 1rem; font-family: monospace;">
            [ SYSTEM READY ]
        </p>
    </div>

    <!-- Phase 1: Mouth Check -->
    <div id="mouth-overlay" class="hidden">
        <div id="mouth-guide"></div>
        <div class="bloom" style="font-size: 2rem; text-align: center;">
            OPEN MOUTH WIDE<br>
            <span style="font-size: 1rem; color: var(--basil-green);" id="mouth-status">CHECKING MANDIBLE
                INTEGRITY...</span>
        </div>
    </div>

    <!-- OATH OVERLAY -->
    <div id="oath-overlay" class="overlay hidden">
        <div style="text-align: center; max-width: 800px;">
            <h2
                style="color: var(--tomato-red); font-size: 2.5rem; margin-bottom: 30px; font-family: monospace; letter-spacing: 8px;">
                REPEAT LOUDLY:
            </h2><span id="oath-text">"LOADING OATH..."</span>
        </div>
        <div id="voice-bar-container"
            style="width: 50%; height: 10px; border: 1px solid var(--tomato-red); margin-top: 10px;">
            <div id="voice-bar" style="height: 100%; width: 0%; background: var(--tomato-red);"></div>
        </div>
    </div>

    <!-- Processing / Transition Text (Top Level) -->
    <div id="processing-text" class="bloom hidden"></div>

    <!-- Phase 3: Vote Interface -->
    <div id="vote-interface" class="hidden">
        <h1 class="bloom" style="font-size: 3rem; text-align: center; margin-bottom: 40px; color: var(--cheese-white);">
            DOES PINEAPPLE BELONG ON PIZZA?
        </h1>
        <div style="display: flex; width: 100%; justify-content: center;">
            <button class="vote-btn" id="btn-yes">
                <div class="vote-icon">üçï</div>
                YES
            </button>
            <button class="vote-btn" id="btn-no">
                <div class="vote-icon">üö´</div>
                NO
            </button>
        </div>
    </div>

    <!-- Phase 4: Rejection / Acceptance -->
    <div id="rejection-overlay" class="hidden">
        <div id="rejection-icon" style="font-size: 8rem; margin-bottom: 30px;"></div>
        <div id="rejection-text" class="bloom"></div>
    </div>

    <!-- Canvas Container (Background) -->
    <div id="canvas-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></div>

    <!-- Privacy Alert Overlay -->
    <div id="privacy-alert" class="hidden">
        ‚ö†Ô∏è DATA CAPTURED
    </div>

    <script src="sketch.js"></script>
    <script>
        // Custom Cursor Logic
        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
    </script>
</body>

</html>